{"version":3,"file":"src_app_auth_auth-callback_auth-callback_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEW;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAgB;KAC5B;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,yDAAY,EAAE,uDAAW,EAAE,uDAAW,EAAE,kEAAqB,CAAC,MAAM,CAAC,CAAC;QAChF,YAAY,EAAE,CAAC,iEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACpB0B;AACd;AACN;AAC6B;IAMzD,gBAAgB,SAAhB,gBAAgB;IAG3B,YAAoB,IAAiB,EAAU,OAAsB,EAAU,MAAc;QAAzE,SAAI,GAAJ,IAAI,CAAa;QAAU,YAAO,GAAP,OAAO,CAAe;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEjG,QAAQ;QACN,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC5E,CAAC;IAED,WAAW;QACT,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACzB,CAAC;IAEK,YAAY,CAAC,MAAmB;;YACpC,IAAI,MAAM,CAAC,MAAM,KAAK,oEAAyB,EAAE;gBAC/C,MAAM,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;aACzC;YAED,IAAI,MAAM,CAAC,MAAM,KAAK,mEAAwB,EAAE;gBAC9C,MAAM,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;aAC1C;QACH,CAAC;KAAA;CACF;;YA7BkC,sDAAW;YAFrC,yDAAa;YACb,mDAAM;;AAOF,gBAAgB;IAH5B,wDAAS,CAAC;QACT,QAAQ,EAAE,iDAAiD;KAC5D,CAAC;GACW,gBAAgB,CAuB5B;AAvB4B","sources":["./src/app/auth/auth-callback/auth-callback.module.ts","./src/app/auth/auth-callback/auth-callback.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthCallbackPage } from './auth-callback.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthCallbackPage,\n  },\n];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes)],\n  declarations: [AuthCallbackPage],\n})\nexport class AuthCallbackPageModule {}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AuthActions, IAuthAction, AuthService } from 'ionic-appauth';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  template: '<p style=\"margin-left: 10px\">Authorizing...</p>',\n})\nexport class AuthCallbackPage implements OnInit, OnDestroy {\n  sub: Subscription;\n\n  constructor(private auth: AuthService, private navCtrl: NavController, private router: Router) {}\n\n  ngOnInit() {\n    this.sub = this.auth.events$.subscribe(action => this.postCallback(action));\n    this.auth.authorizationCallback(window.location.origin + this.router.url);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  async postCallback(action: IAuthAction) {\n    if (action.action === AuthActions.SignInSuccess) {\n      await this.navCtrl.navigateRoot('tabs');\n    }\n\n    if (action.action === AuthActions.SignInFailed) {\n      await this.navCtrl.navigateRoot('login');\n    }\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}